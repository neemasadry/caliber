<%= form_with url: search_path, local: true, method: :get, html: { class: "w-full flex md:ml-0" } do |search| %>
  <label for="q" class="sr-only">Search</label>
  <div class="relative w-full text-gray-400 focus-within:text-gray-600">
    <div data-controller="search" data-search-url="/search/autocomplete">
      <%= search.button(class: "absolute inset-y-0 left-0 flex items-center") do %>
        <%= fa_icon("fal fa-search") %>
      <% end %>
      <%= search.search_field :q, placeholder: "Search products, guides, reviews, etc.", autocomplete: false, data: { action: "keyup->search#fetchResults keydown->search#navigateResults", target: "search.query" }, class: "block w-full h-full pl-8 pr-3 py-2 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 sm:text-sm" %>
      <div data-target="search.results"></div>
    </div>
  </div>
<% end %>
